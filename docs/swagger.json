{
    "swagger": "2.0",
    "info": {
        "description": "API Server for Mangaweb",
        "title": "Mangaweb3 API",
        "contact": {},
        "version": "3.0"
    },
    "paths": {
        "/browse": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "description": "request",
                        "name": "request",
                        "in": "body",
                        "schema": {
                            "$ref": "#/definitions/browse.browseRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/browse.browseResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/browse/recreate_thumbnails": {
            "get": {
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/browse.recreateThumbnailsResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/browse/rescan_library": {
            "get": {
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/browse.rescanLibraryResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/browse/thumbnail": {
            "get": {
                "parameters": [
                    {
                        "type": "string",
                        "description": "name of the item",
                        "name": "name",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "body"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/history": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "description": "request",
                        "name": "request",
                        "in": "body",
                        "schema": {
                            "$ref": "#/definitions/browse.historyRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/browse.historyResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/tag/list": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "description": "request",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/tag.listRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/tag.listResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/tag/recreate_thumbnails": {
            "get": {
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/browse.recreateThumbnailsResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/tag/set_favorite": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "description": "request",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/tag.setFavoriteRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/tag.setFavoriteResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/tag/thumbnail": {
            "get": {
                "parameters": [
                    {
                        "type": "string",
                        "description": "tag",
                        "name": "tag",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "body"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/view": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "description": "request",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/view.viewRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/view.viewResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/view/download": {
            "get": {
                "parameters": [
                    {
                        "type": "string",
                        "description": "name of the file",
                        "name": "name",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "body"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/view/fix_meta": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "description": "request",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/view.fixMetaRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/view.fixMetaResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/view/get_image": {
            "get": {
                "parameters": [
                    {
                        "type": "string",
                        "description": "name of the item",
                        "name": "name",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "width",
                        "name": "width",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "height",
                        "name": "height",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "index",
                        "name": "i",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "body"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/view/populate_tags": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "description": "request",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/view.populateTagsRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/view.populateTagsResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/view/set_favorite": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "description": "request",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/view.setFavoriteRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/view.setFavoriteResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/view/update_cover": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "description": "request",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/view.updateCoverRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/view.updateCoverResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "browse.browseItem": {
            "type": "object",
            "properties": {
                "favorite": {
                    "description": "Favorite this item is a favorite",
                    "type": "boolean"
                },
                "id": {
                    "description": "ID of the item",
                    "type": "integer"
                },
                "name": {
                    "description": "Name of the item",
                    "type": "string"
                },
                "page_count": {
                    "description": "PageCount the number of pages.",
                    "type": "integer"
                },
                "read": {
                    "description": "Read this item has been read before.",
                    "type": "boolean"
                },
                "tag_favorite": {
                    "description": "TagFavorite this item contains favorite tags",
                    "type": "boolean"
                }
            }
        },
        "browse.browseRequest": {
            "type": "object",
            "properties": {
                "favorite_only": {
                    "type": "boolean"
                },
                "item_per_page": {
                    "type": "integer",
                    "default": 30
                },
                "order": {
                    "$ref": "#/definitions/meta.SortOrder"
                },
                "page": {
                    "type": "integer"
                },
                "search": {
                    "type": "string"
                },
                "sort": {
                    "$ref": "#/definitions/meta.SortField"
                },
                "tag": {
                    "type": "string"
                }
            }
        },
        "browse.browseResponse": {
            "type": "object",
            "properties": {
                "items": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/browse.browseItem"
                    }
                },
                "request": {
                    "$ref": "#/definitions/browse.browseRequest"
                },
                "tag_favorite": {
                    "type": "boolean"
                },
                "total_page": {
                    "type": "integer"
                }
            }
        },
        "browse.historyItem": {
            "type": "object",
            "properties": {
                "access_time": {
                    "description": "AccessTime the time the item is accessed.",
                    "type": "string"
                },
                "favorite": {
                    "description": "Favorite this item is a favorite",
                    "type": "boolean"
                },
                "id": {
                    "description": "ID of the item",
                    "type": "integer"
                },
                "name": {
                    "description": "Name of the item",
                    "type": "string"
                },
                "page_count": {
                    "description": "PageCount the number of pages.",
                    "type": "integer"
                },
                "read": {
                    "description": "Read this item has been read before.",
                    "type": "boolean"
                },
                "tag_favorite": {
                    "description": "TagFavorite this item contains favorite tags",
                    "type": "boolean"
                }
            }
        },
        "browse.historyRequest": {
            "type": "object",
            "properties": {
                "item_per_page": {
                    "type": "integer",
                    "default": 30
                },
                "page": {
                    "type": "integer"
                }
            }
        },
        "browse.historyResponse": {
            "type": "object",
            "properties": {
                "items": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/browse.historyItem"
                    }
                },
                "request": {
                    "$ref": "#/definitions/browse.historyRequest"
                },
                "total_page": {
                    "type": "integer"
                }
            }
        },
        "browse.recreateThumbnailsResponse": {
            "type": "object",
            "properties": {
                "result": {
                    "type": "boolean"
                }
            }
        },
        "browse.rescanLibraryResponse": {
            "type": "object",
            "properties": {
                "result": {
                    "type": "boolean"
                }
            }
        },
        "ent.History": {
            "type": "object",
            "properties": {
                "create_time": {
                    "description": "CreateTime holds the value of the \"create_time\" field.",
                    "type": "string"
                },
                "edges": {
                    "description": "Edges holds the relations/edges for other nodes in the graph.\nThe values are being populated by the HistoryQuery when eager-loading is set.",
                    "allOf": [
                        {
                            "$ref": "#/definitions/ent.HistoryEdges"
                        }
                    ]
                },
                "id": {
                    "description": "ID of the ent.",
                    "type": "integer"
                }
            }
        },
        "ent.HistoryEdges": {
            "type": "object",
            "properties": {
                "item": {
                    "description": "Item holds the value of the item edge.",
                    "allOf": [
                        {
                            "$ref": "#/definitions/ent.Meta"
                        }
                    ]
                }
            }
        },
        "ent.Meta": {
            "type": "object",
            "properties": {
                "active": {
                    "description": "Active holds the value of the \"active\" field.",
                    "type": "boolean"
                },
                "create_time": {
                    "description": "CreateTime holds the value of the \"create_time\" field.",
                    "type": "string"
                },
                "edges": {
                    "description": "Edges holds the relations/edges for other nodes in the graph.\nThe values are being populated by the MetaQuery when eager-loading is set.",
                    "allOf": [
                        {
                            "$ref": "#/definitions/ent.MetaEdges"
                        }
                    ]
                },
                "favorite": {
                    "description": "Favorite holds the value of the \"favorite\" field.",
                    "type": "boolean"
                },
                "file_indices": {
                    "description": "FileIndices holds the value of the \"file_indices\" field.",
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "id": {
                    "description": "ID of the ent.",
                    "type": "integer"
                },
                "name": {
                    "description": "Name holds the value of the \"name\" field.",
                    "type": "string"
                },
                "read": {
                    "description": "Read holds the value of the \"read\" field.",
                    "type": "boolean"
                }
            }
        },
        "ent.MetaEdges": {
            "type": "object",
            "properties": {
                "histories": {
                    "description": "Histories holds the value of the histories edge.",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/ent.History"
                    }
                },
                "tags": {
                    "description": "Tags holds the value of the tags edge.",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/ent.Tag"
                    }
                }
            }
        },
        "ent.Tag": {
            "type": "object",
            "properties": {
                "edges": {
                    "description": "Edges holds the relations/edges for other nodes in the graph.\nThe values are being populated by the TagQuery when eager-loading is set.",
                    "allOf": [
                        {
                            "$ref": "#/definitions/ent.TagEdges"
                        }
                    ]
                },
                "favorite": {
                    "description": "Favorite holds the value of the \"favorite\" field.",
                    "type": "boolean"
                },
                "hidden": {
                    "description": "Hidden holds the value of the \"hidden\" field.",
                    "type": "boolean"
                },
                "id": {
                    "description": "ID of the ent.",
                    "type": "integer"
                },
                "name": {
                    "description": "Name holds the value of the \"name\" field.",
                    "type": "string"
                }
            }
        },
        "ent.TagEdges": {
            "type": "object",
            "properties": {
                "meta": {
                    "description": "Meta holds the value of the meta edge.",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/ent.Meta"
                    }
                }
            }
        },
        "errors.Error": {
            "type": "object",
            "properties": {
                "cause": {},
                "code": {
                    "type": "integer",
                    "example": 0
                },
                "message": {
                    "type": "string",
                    "example": "unknown error."
                }
            }
        },
        "meta.CropDetails": {
            "type": "object",
            "properties": {
                "height": {
                    "type": "integer"
                },
                "width": {
                    "type": "integer"
                },
                "x": {
                    "type": "integer"
                },
                "y": {
                    "type": "integer"
                }
            }
        },
        "meta.SortField": {
            "type": "string",
            "enum": [
                "name",
                "createTime"
            ],
            "x-enum-varnames": [
                "SortFieldName",
                "SortFieldCreateTime"
            ]
        },
        "meta.SortOrder": {
            "type": "string",
            "enum": [
                "ascending",
                "descending"
            ],
            "x-enum-varnames": [
                "SortOrderAscending",
                "SortOrderDescending"
            ]
        },
        "tag.listRequest": {
            "type": "object",
            "properties": {
                "favorite_only": {
                    "type": "boolean"
                },
                "item_per_page": {
                    "type": "integer",
                    "default": 30
                },
                "page": {
                    "type": "integer"
                },
                "search": {
                    "type": "string"
                }
            }
        },
        "tag.listResponse": {
            "type": "object",
            "properties": {
                "request": {
                    "$ref": "#/definitions/tag.listRequest"
                },
                "tags": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/ent.Tag"
                    }
                },
                "total_page": {
                    "type": "integer"
                }
            }
        },
        "tag.setFavoriteRequest": {
            "type": "object",
            "properties": {
                "favorite": {
                    "type": "boolean"
                },
                "tag": {
                    "type": "string"
                }
            }
        },
        "tag.setFavoriteResponse": {
            "type": "object",
            "properties": {
                "favorite": {
                    "type": "boolean"
                },
                "request": {
                    "$ref": "#/definitions/tag.setFavoriteRequest"
                }
            }
        },
        "view.fixMetaRequest": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string"
                }
            }
        },
        "view.fixMetaResponse": {
            "type": "object",
            "properties": {
                "request": {
                    "$ref": "#/definitions/view.fixMetaRequest"
                },
                "success": {
                    "type": "boolean"
                }
            }
        },
        "view.populateTagsRequest": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string"
                }
            }
        },
        "view.populateTagsResponse": {
            "type": "object",
            "properties": {
                "favorite": {
                    "type": "boolean"
                },
                "indices": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "name": {
                    "type": "string"
                },
                "request": {
                    "$ref": "#/definitions/view.populateTagsRequest"
                },
                "tags": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/ent.Tag"
                    }
                },
                "version": {
                    "type": "string"
                }
            }
        },
        "view.setFavoriteRequest": {
            "type": "object",
            "properties": {
                "favorite": {
                    "type": "boolean"
                },
                "name": {
                    "type": "string"
                }
            }
        },
        "view.setFavoriteResponse": {
            "type": "object",
            "properties": {
                "favorite": {
                    "type": "boolean"
                },
                "request": {
                    "$ref": "#/definitions/view.setFavoriteRequest"
                }
            }
        },
        "view.updateCoverRequest": {
            "type": "object",
            "properties": {
                "crop_details": {
                    "$ref": "#/definitions/meta.CropDetails"
                },
                "index": {
                    "type": "integer"
                },
                "name": {
                    "type": "string"
                }
            }
        },
        "view.updateCoverResponse": {
            "type": "object",
            "properties": {
                "request": {
                    "$ref": "#/definitions/view.updateCoverRequest"
                },
                "success": {
                    "type": "boolean"
                }
            }
        },
        "view.viewRequest": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string"
                }
            }
        },
        "view.viewResponse": {
            "type": "object",
            "properties": {
                "favorite": {
                    "type": "boolean"
                },
                "name": {
                    "type": "string"
                },
                "page_count": {
                    "type": "integer"
                },
                "request": {
                    "$ref": "#/definitions/view.viewRequest"
                },
                "tags": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/ent.Tag"
                    }
                },
                "version": {
                    "type": "string"
                }
            }
        }
    },
    "externalDocs": {
        "description": "OpenAPI",
        "url": "https://swagger.io/resources/open-api/"
    }
}